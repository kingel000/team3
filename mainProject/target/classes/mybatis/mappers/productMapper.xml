<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="main.project.web.product.dao.IProductDAO">
	<insert id="insertProduct" parameterType="productVO">
		INSERT INTO product VALUES
		(#{product_num},#{category},#{product_title},#{expert_id},
		 #{product_info},#{product_file,jdbcType=VARCHAR},sysdate)
	</insert>
	<update id="updateProduct" parameterType="productVO">
		UPDATE product SET
		category=#{category},product_title=#{product_title},product_info=#{product_info},
		product_file=#{product_file,jdbcType=VARCHAR}
		WHERE product_num=#{product_num}
	</update>
	<delete id="deleteProduct" parameterType="productVO">
		DELETE FROM product
		WHERE product_num=#{product_num}
	</delete>
	<select id="selectProduct" parameterType="String" resultType="productVO">
		SELECT * FROM product
		WHERE product_num=#{product_num}
	</select>
	<select id="selectListProduct" resultType="productVO">
		SELECT * FROM product
		WHERE expert_id=#{id}
	</select>
		<!--  <select id="selectAllListProduct" resultType="productVO">
		SELECT * FROM product
	</select>-->
	<select id="selectCategory" resultType="productVO">
		SELECT * FROM product
		WHERE category=#{category}
	</select>
	<select id="select_NickName" parameterType="String" resultType="memberVO" >
		SELECT * FROM MEMBER WHERE ID = #{expert_id}
	</select>
	<select id="selectA11ListProduct2" resultType="productVO">
		SELECT * FROM product ORDER BY product_num DESC
	</select>
	<select id="selectFindList" parameterType="findVO" resultType="productVO">
		SELECT * FROM product WHERE 
		<if test="category=='category'">
			category like '%'||#{findText}||'%'
		</if>
		<if test="category=='expert_id'">
			expert_id like '%'||#{findText}||'%'
		</if>
	</select>
	
</mapper>
